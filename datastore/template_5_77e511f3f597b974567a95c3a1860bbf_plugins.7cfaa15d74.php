<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_core_global_plugins extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = '01e7aa016a7dd2866c5a24a66e21f7b8';\n\tfunction bdGroupLegend( $groups, $orientation='vertical' ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\r\n<h3 class=\"ipsType_reset ipsWidget_title\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'block_bdGroupLegend_title', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\r\n<div class='ipsWidget_inner ipsPad'>\r\n    <ul class=\"ipsList_inline ipsList_csv ipsList_noSpacing\"> \r\n        \nCONTENT;\n\nforeach ( $groups as $group ):\n$return .= <<<CONTENT\n\r\n            \nCONTENT;\n\nif ( is_object($group) ):\n$return .= <<<CONTENT\n\r\n                <li><a href=\"\nCONTENT;\n\nif ( \\IPS\\Settings::i()->bd_gl_linkSearch ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=search&controller=search&type=core_members&group[$group->g_id]=1\" . \"&csrfKey=\" . \\IPS\\Session::i()->csrfKey, null, \"\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n#\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->bd_gl_globalPrefix;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Settings::i()->bd_gl_formatName==true ):\n$return .= <<<CONTENT\n$group->formattedName\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $group->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->bd_gl_globalSuffix;\n$return .= <<<CONTENT\n<\/a><\/li>\r\n            \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n        \nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n    <\/ul>\r\n    <div class='ipsType_richText ipsType_contained'>\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->bd_gl_text;\n$return .= <<<CONTENT\n<\/div>\r\n<\/div>\r\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::log( $exception, \"template_bdGroupLegend\" );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction gni( $orientation ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n$groups = \\IPS\\Member::loggedIn()->groupNameIndicator();\n$return .= <<<CONTENT\n\r\n\nCONTENT;\n\nif ( \\count( $groups ) ):\n$return .= <<<CONTENT\n\r\n\t<hr class=\"ipsHr\">\r\n\r\n\t\t<div>\r\n\t\t\t\nCONTENT;\n\nforeach ( $groups as $group ):\n$return .= <<<CONTENT\n\r\n                \nCONTENT;\n\n$url = \\IPS\\Http\\Url::internal( \"app=core&module=search&controller=search\" );\n$return .= <<<CONTENT\n\r\n                \nCONTENT;\n\n$url = (string) $url . \"&type=core_members&group%5B\" . $group->g_id . \"%5D=1&q=\";\n$return .= <<<CONTENT\n\r\n                <div class=\"gni\"><a href='\nCONTENT;\n$return .= htmlspecialchars( $url, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>{$group->formattedName}<\/a><\/div>\r\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n\t\t<\/div>\r\n\r\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::log( $exception, \"template_gni\" );\n\t\t}\n\t\treturn $return;\n}\n\n\tfunction lastWarnProfileBlock( $member ) {\n\t\t$return = '';\n\t\ttry\n\t\t{\n\t\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\count( $member->warnings( 1, NULL, 'suspend' ) ) AND $member->temp_ban <> \"0\" AND \\IPS\\Member::loggedIn()->inGroup( explode( ',', \\IPS\\Settings::i()->cgabmProfileBlock ) ) ):\n$return .= <<<CONTENT\n\r\n\t\nCONTENT;\n\nforeach ( $member->warnings( 1, NULL, 'suspend' ) as $warning ):\n$return .= <<<CONTENT\n\r\n\t\t<div class='ipsPadding ipsBox ipsResponsive_pull ipsAreaBackground_negative ipsSpacer_bottom'>\r\n\t\t\t\nCONTENT;\n\nif ( $warning->note_member ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t<strong>{$warning->note_member}<\/strong>\r\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\nCONTENT;\n\nif ( $member->temp_ban == -1 ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_banned_perm', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$sprintf = array(\\IPS\\DateTime::ts( $member->temp_ban )); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderation_banned_temp', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/li>\r\n\t\t\t\t<li>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'warn_reason_message', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n \nCONTENT;\n\n$val = \"core_warn_reason_{$warning->reason}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/li>\r\n\t\t\t\t\nCONTENT;\n\n$mod = \\IPS\\Member::load( $warning->moderator );\n$return .= <<<CONTENT\n\r\n\t\t\t\t<li>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'moderators_name', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n: \nCONTENT;\n$return .= htmlspecialchars( $mod->name, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\r\n\t\t\t<\/ul>\r\n\t\t<\/div>\r\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\r\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\t}\n\t\tcatch ( \\Exception $exception )\n\t\t{\n\t\t\t\\IPS\\Log::log( $exception, \"template_lastWarnProfileBlock\" );\n\t\t}\n\t\treturn $return;\n}}"
VALUE;
