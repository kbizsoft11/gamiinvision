<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_bimchatbox_front_chat extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = '52d5aa74b71ee99175f0068e72931ecb';\n\tfunction chatform( $chats, $orientation ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='chatboxMedia ipsAreaBackground_light'><\/div>\r\n<div class='ipsAreaBackground_light ipsPadding:half' id='chatBoxForm'>\n\t<div class=\"bimcb_chatArea ipsBox--child ipsClearfix\">\n\t\t\nCONTENT;\n\nif ( \\IPS\\Application::load('bimchatbox')->can_Chat() ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( !\\in_array(\\IPS\\Member::loggedIn()->member_id, explode(\",\", \\IPS\\Settings::i()->chatbox_conf_blocklist)) ):\n$return .= <<<CONTENT\n\n\t\t\t\t<form data-action='chatform' id=\"cbInput_container\">\n\t\t\t\t\t<input class='bimcb_chatInput' id=\"txt\" name=\"txt\" placeholder='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_placeholder', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n' autocomplete=\"off\">\n\t\t\t\t\t<div class='cbItems'>\n\t\t\t\t\t\t<a href='#' data-ipsmenu data-ipsmenu-above='true' data-ipsmenu-appendto='#ipsLayout_contentArea' data-ipsmenu-closeonclick='false' id='elEmoticons_chatbox' data-ipstooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_emoticons', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\t<img src='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->resource( \"emo.png\", \"bimchatbox\", 'front', false );\n$return .= <<<CONTENT\n' width='24px' height='24px'>\n\t\t\t\t\t\t<\/a>\r\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_giphy == \"button\" || \\IPS\\Settings::i()->chatbox_conf_giphy == \"both\" ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t\t\t\t<a href='#' class=\"bimGiphyBtn\" data-action=\"bimGiphy\" data-ipstooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'bim_giphy', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'>\r\n\t\t\t\t\t\t\t\t<img src='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->resource( \"bimgiphy.png\", \"bimchatbox\", 'front', false );\n$return .= <<<CONTENT\n' width='24px' height='24px'>\r\n\t\t\t\t\t\t\t<\/a>\r\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\t\t\t\n\t\t\t\t\t\t<button type=\"submit\" class=\"ipsButton ipsButton_primary ipsButton_verySmall \nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_hide_enter_mobile == 1 ):\n$return .= <<<CONTENT\nipsResponsive_hidePhone\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-action=\"chat\" id=\"chat_button\">\r\n\t\t\t\t\t\t\t<span class=\"ipsType_small\"><i class=\"fa fa-level-down fa-rotate-90\"><\/i><\/span>\r\n\t\t\t\t\t\t<\/button>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/form>\n\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t<div class='ipsPadding:half ipsType_warning'>\r\n\t\t\t\t\t<i class=\"fa fa-exclamation-triangle\"><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_error_inblock', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\r\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t<div class='ipsPadding:half ipsType_warning'>\r\n\t\t\t\t<i class=\"fa fa-exclamation-triangle\"><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_error_noper', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\r\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction edit( $chat ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsBox' data-controller=\"bimChatBoxMain\">\n\t<h3 class=\"ipsType_reset ipsType_sectionTitle ipsClearfix\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_edit', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t<div class=\"ipsPadding\">\n\t\t<textarea rows=\"4\" cols=\"50\" id=\"editmsg_\nCONTENT;\n$return .= htmlspecialchars( $chat['id'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n$return .= htmlspecialchars( $chat['chat'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/textarea>\n\t\t<br><br>\n\t\t<a href=\"#\" data-action=\"edit\" data-id=\"\nCONTENT;\n$return .= htmlspecialchars( $chat['id'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class=\"ipsButton ipsButton_primary\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'save', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\t\t\n\t<\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction emoticons( $emoticons ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div data-controller=\"bimChatBoxMain\">\n\t<div id='chatbox_emoticonMenu'>\n\t\t<div class='ipsMenu_headerBar'>\n\t\t\t<p class='ipsType_reset ipsPos_right'><a href='#' class='ipsType_blendLinks' data-role='categoryTrigger' data-ipsMenu data-ipsMenu-appendTo='#chatbox_emoticonMenu' id='id_more'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_emocategories', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a><\/p>\n\t\t\t<h4 class='ipsType_sectionHead'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_emoticons', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h4>\n\t\t\t<ul data-role='categoryMenu' class='ipsMenu ipsMenu_auto' id='id_more_menu' role='menu' style='display: none'>\n\t\t\t\t\nCONTENT;\n\nforeach ( $emoticons as $k => $group ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li class='ipsMenu_item' role='menuitem' data-ipsMenuValue='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' data-action='EmoCatChoose'><a href='#'>\nCONTENT;\n$return .= htmlspecialchars( $group['title'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/div>\n\t\t<div class='ipsMenu_innerContent ipsEmoticons_content'>\n\t\t\t\nCONTENT;\n\nforeach ( $emoticons as $k => $group ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\n$cnt++;\n$return .= <<<CONTENT\n\n\t\t\t\t<div id='emoCat_\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='emoCat' \nCONTENT;\n\nif ( $cnt > 1 ):\n$return .= <<<CONTENT\nstyle=\"display: none;\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t<div class='ipsAreaBackground_light ipsPadding:half'><strong>\nCONTENT;\n$return .= htmlspecialchars( $group['title'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/strong><\/div>\n\t\t\t\t\t<div class='ipsEmoticons_category' data-categoryid='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t\nCONTENT;\n\nforeach ( (array) $group['emoticons'] as $emo ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<div data-action=\"emo_emo\" class=\"cbEmoList\" data-emoticon=\"\nCONTENT;\n$return .= htmlspecialchars( $emo['text'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" title=\"\nCONTENT;\n$return .= htmlspecialchars( $emo['text'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"><img src=\"\nCONTENT;\n$return .= htmlspecialchars( $emo['src'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"><\/div>\n\t\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\t\t\t\t\n\t\t\t\t\t<\/div>\t\t\t\n\t\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t<\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction main( $orientation ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\r\n\nCONTENT;\n\n$ann = (string) \\IPS\\Settings::i()->chatbox_conf_announcements;\n$return .= <<<CONTENT\n\r\n\r\n<div data-controller=\"bim.chatbox.free\">\r\n\t<h2 class=\"ipsType_sectionTitle ipsType_reset\" id=\"elChatbox\" >\r\n\t\t<ul class=\"ipsPos_right ipsList_inline ipsList_noSpacing\">\r\n\t\t\t<li>\r\n\t\t\t\t<a href=\"#\" class=\"cbBtn\" data-action=\"toggleSound\" data-ipstooltip=\"\" title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_togglesound', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'>\r\n\t\t\t\t\t<i class=\"fa fa-volume-up\"><\/i>\r\n\t\t\t\t<\/a>\r\n\t\t\t<\/li>\r\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Application::load('bimchatbox')->can_Manage() ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<a href=\"#\" class=\"cbBtn\" data-ipsDialog data-ipsDialog-forceReload data-ipsDialog-url='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=bimchatbox&module=chatbox&controller=chatbox&do=config\", null, \"\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n' data-ipstooltip=\"\" title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_management', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'>\r\n\t\t\t\t\t\t<i class=\"fa fa-cog\"><\/i>\r\n\t\t\t\t\t<\/a>\t\t\t\r\n\t\t\t\t<\/li>\r\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\r\n\t\t<\/ul>\r\n\t\t<div>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_title', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/div>\t\r\n\t<\/h2>\r\n\t\r\n\t<div id=\"elChatboxContent\">\r\n\t\t\nCONTENT;\n\nif ( $ann ):\n$return .= <<<CONTENT\n\r\n\t\t\t<div class=\"cbAnn ipsPadding:half ipsClearfix\">\r\n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_anntab == 1 ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t\t<a href=\"#\" data-ipsDialog data-ipsDialog-forceReload data-ipsDialog-title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_rules', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n' data-ipsDialog-url='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=bimchatbox&module=chatbox&controller=chatbox&do=chatrules\", null, \"\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n' data-ipsDialog-size='narrow'>\r\n\t\t\t\t\t\t<i class=\"fa fa-bullhorn\" aria-hidden=\"true\"><\/i>&nbsp;&nbsp;\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_rules_link', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\r\n\t\t\t\t\t<\/a>\r\n\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\r\n\t\t\t\t\t{$ann}\r\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n\t\t\t<\/div>\r\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n\t\t\r\n\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_ordertop == 1 ):\n$return .= <<<CONTENT\n\r\n\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"chat\", \"bimchatbox\" )->chatform( $chat, $orientation );\n$return .= <<<CONTENT\n\r\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\t\r\n\t\t\r\n\t\t<div id='chatboxWrap' \nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_height ):\n$return .= <<<CONTENT\nstyle='height: \nCONTENT;\n\n$return .= \\IPS\\Settings::i()->chatbox_conf_height;\n$return .= <<<CONTENT\npx !important;'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\r\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_ordertop != 1 ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t<div id='loadMore' data-action='loadMore' class='ipsAreaBackground_light ipsPadding:half ipsType_center ipsCursor_pointer'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cb_loadmore', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/div>\r\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n\t\t\t\r\n\t\t\t<ul id='chatcontent' class=\"ipsDataList ipsDataList_reducedSpacing ipsLoading\">\r\n\t\t\t\r\n\t\t\t<\/ul>\r\n\t\t\t\r\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_ordertop == 1 ):\n$return .= <<<CONTENT\n\r\n\t\t\t\t<div id='loadMore' data-action='loadMore' class='ipsAreaBackground_light ipsPadding:half ipsType_center ipsCursor_pointer'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cb_loadmore', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/div>\r\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\t\t\r\n\t\t<\/div>\r\n\t\t\r\n\t\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->chatbox_conf_ordertop != 1 ):\n$return .= <<<CONTENT\n\r\n\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"chat\", \"bimchatbox\" )->chatform( $chat, $orientation );\n$return .= <<<CONTENT\n\r\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\r\n\t<\/div>\r\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction manage( $form ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<h3 class=\"ipsType_reset ipsType_sectionTitle ipsClearfix\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'chatbox_management', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n<div class=\"ipsPadding chatboxConf\" data-controller=\"bim.chatbox.manage\">\n\t{$form}\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction rules( $txt ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class=\"ipsPadding chatboxConf\" data-controller=\"bim.chatbox.manage\">\n\t{$txt}\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction video( $source, $id ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class=\"cbVideoWrapper\">\n\t\nCONTENT;\n\nif ( $source == 'youtube' ):\n$return .= <<<CONTENT\n\n\t\t<iframe width=\"560\" height=\"315\" src=\"https:\/\/www.youtube.com\/embed\/\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n?autoplay=1\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen><\/iframe>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
