<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_core_front_ipsfocus extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = '01e7aa016a7dd2866c5a24a66e21f7b8';\n\tfunction altThemeForm(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<!-- Switch to alt theme -->\n<form action=\"\nCONTENT;\n\n$return .= str_replace( array( 'http:\/\/', 'https:\/\/' ), '\/\/', htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=theme\" . \"&csrfKey=\" . \\IPS\\Session::i()->csrfKey, null, \"theme\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE ) );\n$return .= <<<CONTENT\n\" method=\"post\" id='focusAltTheme'>\n\t<input type=\"hidden\" name=\"ref\" value=\"\nCONTENT;\n\n$return .= htmlspecialchars( base64_encode( (string) \\IPS\\Request::i()->url() ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t<button type='submit' name='id' value='0' id='focusAltThemeSubmit'>Change theme<\/button>\n<\/form>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction branding(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction config(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\ndata-focus-userlinks='\nCONTENT;\n\nif ( !\\IPS\\Theme::i()->settings['focus_switch_search_user'] ):\n$return .= <<<CONTENT\nborder-left\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\nradius\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'\ndata-focus-post='no-margin'\ndata-focus-post-header='background border-v'\ndata-focus-post-controls='transparent buttons'\ndata-focus-blocks='pages'\ndata-focus-ui=\"transparent-ficon new-badge guest-alert\"\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction configCookie(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\ndata-focus-cookie='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Theme::i()->id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction configImport(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id ):\n$return .= <<<CONTENT\ndata-focus-member='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->member_id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\ndata-focus-guest\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\ndata-focus-group-id='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->member_group_id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'\ndata-focus-theme-id='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Theme::i()->id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_light_dark_enable'] ):\n$return .= <<<CONTENT\ndata-focus-alt-theme='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_light_dark'];\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\ndata-focus-navigation='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_navigation_type'];\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( (\\IPS\\Theme::i()->settings['focus_navigation_type'] == \"default\") AND !\\count( \\IPS\\core\\FrontNavigation::i()->subBars( $preview ) ) ):\n$return .= <<<CONTENT\n no-secondary\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_switch_search_user'] ):\n$return .= <<<CONTENT\ndata-focus-switch-search-user\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_background_type'] == 'single' ):\n$return .= <<<CONTENT\ndata-focus-bg='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_default'];\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_holiday'] != \"none\" ):\n$return .= <<<CONTENT\ndata-holiday='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_event_holiday'];\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_fullscreen'] != \"none\" ):\n$return .= <<<CONTENT\ndata-event-fullscreen='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_event_fullscreen'];\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_background_type'] == 'picker' ):\n$return .= <<<CONTENT\ndata-focus-picker='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_overflow'];\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"ipsfocus\", \"core\", 'front' )->configScheme(  );\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"ipsfocus\", \"core\", 'front' )->configCookie(  );\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"ipsfocus\", \"core\", 'front' )->config(  );\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction configScheme(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\ndata-focus-scheme='dark'\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction countdown( $location=array() ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_enable'] AND ( \\IPS\\Theme::i()->settings['focus_countdown_groups'] === \"*\" OR \\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_countdown_groups'])) ) ):\n$return .= <<<CONTENT\n\n\t<div class='focus-countdown ipsBox'>\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_message'] ):\n$return .= <<<CONTENT\n<div class='focus-countdown__message focus-countdown__message--counting'>\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_countdown_message'];\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_finished'] ):\n$return .= <<<CONTENT\n<div class='focus-countdown__message focus-countdown__message--finished'>\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_countdown_finished'];\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<div class='focus-countdown__numbers'><\/div>\n\t<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction customizer(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='focus-editor-wrap'>\n\t<div class='focus-editor-overlay' data-focus-editor><\/div>\n\t<div class='focus-editor'>\n\t\t<div class='focus-editor-scroll'>\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_background_type'] == 'picker' ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='focus-editor__picker'>\n\t\t\t\t<div class='focus-editor__title' data-focus-text='Background Picker'><\/div>\n\t\t\t\t<div class='focus-picker-wrap'>\n\t\t\t\t\t<div class=\"focus-picker\">\n\t\t\t\t\t\t<div class='focus-picker__item' data-focus-bg='random'><i><\/i><div class='focus-picker__random-images'><\/div><div class='focus-picker__name' data-focus-text=\"Random\"><\/div><\/div>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_1_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='1'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_1_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_1_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_2_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='2'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_2_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_2_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_3_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='3'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_3_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_3_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_4_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='4'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_4_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_4_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_5_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='5'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_5_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_5_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_6_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='6'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_6_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_6_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_7_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='7'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_7_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_7_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_8_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='8'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_8_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_8_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_9_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='9'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_9name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_9name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t    \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_10_enable'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__item' data-focus-bg='10'><i><\/i>\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_10_name'] ):\n$return .= <<<CONTENT\n<div class='focus-picker__name' data-focus-text='\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_10_name'];\n$return .= <<<CONTENT\n'><\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_picker_groups'] != \"*\" AND !\\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_picker_groups']))  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<div class='focus-picker__guests ipsFlex ipsFlex-ai:center ipsFlex-jc:center ipsType_center'>\n\t\t\t\t\t\t\t<div class='ipsFlex-flex:01'>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->member_id  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\tPlease <a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=login\", null, \"login\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'login', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Login::registrationType() != 'disabled' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\tor\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Login::registrationType() == 'redirect' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Settings::i()->allow_reg_target, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' target=\"_blank\" rel=\"noopener\">\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=register\", null, \"register\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nif ( \\IPS\\Login::registrationType() == 'normal' ):\n$return .= <<<CONTENT\ndata-ipsDialog data-ipsDialog-size='narrow' data-ipsDialog-title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sign_up', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sign_up', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<span data-focus-text=\"to use the Background Picker\"><\/span>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<div data-focus-text=\"The Background Picker is not available to your group.\"><\/div>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<div>\n\t\t\t\t<div class='focus-editor__title' data-focus-text='Customize layout'><\/div>\n\t\t\t\t<div class='focus-editor-panels' id='focusEditorPanels'>\n\t\t\t\t\t<div class='focus-editor-panel' data-focus-toggle-theme>\n\t\t\t\t\t\t<div class='focus-editor-toggle'><i class='focus-toggle'><i><\/i><\/i><\/div>\n\t\t\t\t\t\t<div class='focus-editor-text'><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class='focus-editor-save'>\n\t\t\t<button data-focus-editor class='ipsButton ipsButton_primary'><\/button>\n\t\t<\/div>\n\t<\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction customizerSettings(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\/\/\t['setting-name', enabled-by-default, has-toggle]\nvar focusSettings = [\n\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"ipsfocus\", \"core\", 'front' )->customizerSettingsExtra(  );\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_mobile_footer'] ):\n$return .= <<<CONTENT\n['mobile-footer', 1, 1],\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t['fluid', \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['enable_fluid_width'] ):\n$return .= <<<CONTENT\n1\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n0\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n, 1],\n\t['larger-font-size', 0, 1],\n\t['sticky-author-panel', 0, 1],\n\t['sticky-sidebar', 0, 1],\n\t['flip-sidebar', 0, 1],\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_fullscreen'] != \"none\" ):\n$return .= <<<CONTENT\n['fullscreen-effect', 1, 1],\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_enable'] AND ( \\IPS\\Theme::i()->settings['focus_countdown_groups'] === \"*\" OR \\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_countdown_groups'])) ) ):\n$return .= <<<CONTENT\n['countdown', 1, 1],\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n]; \nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction customizerSettingsExtra(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n ['sticky-header', 0, 1],\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction headExtra(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n \nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction javascriptHead(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<script type='text\/javascript'>\nvar focusHtml = document.getElementById('focus');\nvar cookieId = focusHtml.getAttribute('data-focus-cookie');\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"ipsfocus\", \"core\", 'front' )->customizerSettings(  );\n$return .= <<<CONTENT\n\nfor(var i = 0; i < focusSettings.length; i++) {\n\tvar settingName = focusSettings[i][0];\n\tvar isDefault = focusSettings[i][1];\n\tvar allowToggle = focusSettings[i][2];\n\tif(allowToggle){\n\t\tvar choice = localStorage.getItem(settingName);\n\t\tif( (choice === '1') || (!choice && (isDefault)) ){\n\t\t\tfocusHtml.classList.add('enable--' + settingName + '');\n\t\t}\n\t} else if(isDefault){\n\t\tfocusHtml.classList.add('enable--' + settingName + '');\n\t}\n}\n\nCONTENT;\n\nif ( (\\IPS\\Theme::i()->settings['focus_background_type'] == 'picker' AND ( \\IPS\\Theme::i()->settings['focus_picker_groups'] === \"*\" OR \\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_picker_groups'])) ) ) OR \\IPS\\Theme::i()->settings['focus_background_type'] == 'random' ):\n$return .= <<<CONTENT\n\n\tvar loadRandomBackground = function(){\n\t\tvar randomBackgrounds = [ \nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_1_enable'] ):\n$return .= <<<CONTENT\n1,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_2_enable'] ):\n$return .= <<<CONTENT\n2,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_3_enable'] ):\n$return .= <<<CONTENT\n3,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_4_enable'] ):\n$return .= <<<CONTENT\n4,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_5_enable'] ):\n$return .= <<<CONTENT\n5,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_6_enable'] ):\n$return .= <<<CONTENT\n6,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_7_enable'] ):\n$return .= <<<CONTENT\n7,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_8_enable'] ):\n$return .= <<<CONTENT\n8,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_9_enable'] ):\n$return .= <<<CONTENT\n9,\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_bg_10_enable'] ):\n$return .= <<<CONTENT\n10\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n];\n\t\tvar randomBackground = randomBackgrounds[Math.floor(Math.random()*randomBackgrounds.length)];\n\t\tfocusHtml.setAttribute('data-focus-bg', randomBackground);\n\t\tfocusHtml.setAttribute('data-focus-bg-random', '');\n\t}\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_background_type'] == 'picker' ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( ( \\IPS\\Theme::i()->settings['focus_picker_groups'] === \"*\" OR \\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_picker_groups'])) )  ):\n$return .= <<<CONTENT\n\n\t\tvar backgroundChoice = localStorage.getItem('focusBackground-' + cookieId + '') || '\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_default'];\n$return .= <<<CONTENT\n';\n\t\tif (backgroundChoice == 'random'){\n\t\t\tloadRandomBackground();\n\t\t} else {\n\t\t\tfocusHtml.setAttribute('data-focus-bg', '' + backgroundChoice + '');\n\t\t}\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\/\/ Background Picker is disabled for your group\n\t\tfocusHtml.setAttribute('data-focus-bg', '\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_bg_default'];\n$return .= <<<CONTENT\n');\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nelseif ( \\IPS\\Theme::i()->settings['focus_background_type'] == 'random' ):\n$return .= <<<CONTENT\n\n\tloadRandomBackground();\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/script>\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"ipsfocus\", \"core\", 'front' )->javascriptHeadExtra(  );\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction javascriptHeadExtra(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n \nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction javascriptReady(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_enable'] AND ( \\IPS\\Theme::i()->settings['focus_countdown_groups'] === \"*\" OR \\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_countdown_groups'])) ) ):\n$return .= <<<CONTENT\n\n\t<!-- Countdown -->\n\t<script src=\"https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/jquery.countdown\/2.2.0\/jquery.countdown.min.js\"><\/script>\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_timezone'] ):\n$return .= <<<CONTENT\n\n\t\t<script src=\"https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/moment.js\/2.18.1\/moment.min.js\"><\/script>\n\t\t<script src=\"https:\/\/cdnjs.cloudflare.com\/ajax\/libs\/moment-timezone\/0.5.13\/moment-timezone-with-data-2012-2022.min.js\"><\/script>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<script>$(document).ready(function(){\n\t\n\tvar html = $('#focus');\n\n\tif (matchMedia) {\n\t\tvar focus_pageWidth = window.matchMedia( \"(min-width: 980px)\" );\n\t\tfocus_pageWidth.addListener(WidthChange);\n\t\tWidthChange(focus_pageWidth);\n\t}\n\tfunction WidthChange(focus_pageWidth) {\n\t\tif (focus_pageWidth.matches) {\n\t\t\t$(\"#elSearchWrapper\").prependTo(\".focus-search\");\n\t\t} else {\n\t\t\t$(\"#elSearchWrapper\").prependTo(\".focus-mobile-search\");\n\t\t}\n\t}\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_enable'] AND ( \\IPS\\Theme::i()->settings['focus_countdown_groups'] === \"*\" OR \\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_countdown_groups'])) ) ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_countdown_timezone'] ):\n$return .= <<<CONTENT\n\n\t\t\tvar focusTimer = moment.tz(\"\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_countdown_time'];\n$return .= <<<CONTENT\n\", \"\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_countdown_timezone'];\n$return .= <<<CONTENT\n\");\n\t\t\tvar focusDate = focusTimer.toDate();\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\tvar focusDate = \"\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_countdown_time'];\n$return .= <<<CONTENT\n\";\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\t$('.focus-countdown__numbers').countdown(focusDate).on('update.countdown', function(event) {\n\t\t\tvar format = '%H:%M:%S <span data-focus-text=\"remaining\"><\/span>';\n\t\t\tif(event.offset.totalDays > 0) {\n\t\t\t\tformat = '%-d <span data-focus-text=\"day%!d and\"><\/span> ' + format;\n\t\t\t}\n\t\t\tif(event.offset.weeks > 0) {\n\t\t\t\tformat = '%-w <span data-focus-text=\"week%!w,\"><\/span> ' + format;\n\t\t\t}\n\t\t\t$(this).html(event.strftime(format));\n\t\t\t$('.focus-countdown').addClass('focus-countdown--counting');\n\t\t})\n\t\t.on('finish.countdown', function(event) {\n\t\t\t$('.focus-countdown').addClass('focus-countdown--finished');\n\t\t});\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\/\/ Customizer\n\tvar customizerTooltip = getComputedStyle(document.documentElement).getPropertyValue('--lang__Customizer').slice(1, -1);\n\t$('[data-focus-editor] [data-ipsTooltip]').prop('title', customizerTooltip);\n\t$(\"[data-focus-editor]\").hover(function() {\n\t\thtml.addClass('focus-picker--loaded');\n\t});\n\t\/\/ Open and close with data-focus-editor\n\t$(\"[data-focus-editor]\").on('click', function(event){\n\t\thtml.toggleClass('focus-editor-open').addClass('focus-picker--loaded');\n\t\tevent.preventDefault();\n\t});\n\t\/\/ ..and close by pressing ESC\n\t$(document).keyup(function(e) {\n\t\tif (e.keyCode === 27){\n\t\t\thtml.removeClass('focus-editor-open');\n\t\t}\n\t});\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_background_type'] == 'picker' AND ( \\IPS\\Theme::i()->settings['focus_picker_groups'] === \"*\" OR \\in_array( \\IPS\\Member::loggedIn()->member_group_id, explode( ',', \\IPS\\Theme::i()->settings['focus_picker_groups'])) )  ):\n$return .= <<<CONTENT\n\n\t\t\/\/ Background Picker\n\t\tvar selectedPicker = $('.focus-picker__item[data-focus-bg=\"' + backgroundChoice + '\"]');\n\t\tselectedPicker.addClass('focus-picker__item--active');\n\n\t\t$(\".focus-picker__item\").on('click', function(){\n\t\t\tvar backgroundClass = $(this).attr(\"data-focus-bg\");\n\t\t\t$('.focus-picker__item').removeClass('focus-picker__item--active');\n\t\t\t$(this).addClass('focus-picker__item--active');\n\t\t\tif (backgroundClass == 'random'){\n\t\t\t\thtml.attr('data-focus-bg-random', '');\n\t\t\t} else {\n\t\t\t\thtml.attr('data-focus-bg', '' + backgroundClass + '');\n\t\t\t\thtml.removeAttr('data-focus-bg-random');\n\t\t\t}\n\t\t\tlocalStorage.setItem('focusBackground-' + cookieId + '', '' + backgroundClass + '');\n\t\t});\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\/\/ Loop through settings and create the Customizer panels\n\tfor(var i = 0; i < focusSettings.length; i++) {\n\t\tif(focusSettings[i][2]){\n\t\t\tvar settingName = focusSettings[i][0];\n\t\t\tvar settingDefault = focusSettings[i][1];\n\t\t\tvar settingChoice = localStorage.getItem(settingName);\n\t\t\tif(settingChoice === '1' || (!(settingChoice) && settingDefault)){\n\t\t\t\tvar status = 1;\n\t\t\t} else {\n\t\t\t\tvar status = 0;\n\t\t\t}\n\t\t\t$(\"#focusEditorPanels\").append(\"<div class='focus-editor-panel' data-setting='\" + settingName + \"' data-default='\" + settingDefault + \"' data-status='\" + status + \"'><div class='focus-editor-toggle'><i class='focus-toggle'><i><\/i><\/i><\/div><div class='focus-editor-text'><\/div><\/div>\");\n\t\t}\n\t}\n\n\t\/\/ Change the class and localstorage when the toggle is clicked\n\t$('.focus-editor-panel[data-setting]').on('click', function(){\n\t\tvar settingName = $(this).attr('data-setting');\n\t\tvar settingStatus = $(this).attr('data-status');\n\t\tif(settingStatus === '1'){\n\t\t\thtml.removeClass('enable--' + settingName);\n\t\t\tlocalStorage.setItem(settingName, '0');\n\t\t\t$(this).attr('data-status', '0');\n\t\t} else {\n\t\t\thtml.addClass('enable--' + settingName);\n\t\t\tlocalStorage.setItem(settingName, '1');\n\t\t\t$(this).attr('data-status', '1');\n\t\t}\n\t});\n\n\t\/\/ Dark\/light mode button\n\tvar toggleThemeTooltip = getComputedStyle(document.documentElement).getPropertyValue('--lang--light-dark-mode').slice(1, -1);\n\t$('[data-focus-toggle-theme] [data-ipsTooltip]').prop('title', toggleThemeTooltip);\n\t$('[data-focus-toggle-theme]').on('click', function(e){\n\t\tvar focusThemeId = html.attr('data-focus-alt-theme');\n\t\tif(focusThemeId){\n\t\t\te.preventDefault();\n\t\t\t$(\"#focusAltThemeSubmit\").val(focusThemeId);\n\t\t\t$(\"#focusAltThemeSubmit\").click();\n\t\t}\n\t});\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_navigation_type'] == \"dropdown\" ):\n$return .= <<<CONTENT\n \n\t\t\/\/ Make hover navigation work with touch devices\n\t\t;(function(e,t,n,r){e.fn.doubleTapToGo=function(r){if(!(\"ontouchstart\"in t)&&!navigator.msMaxTouchPoints&&!navigator.userAgent.toLowerCase().match(\/windows phone os 7\/i))return false;this.each(function(){var t=false;e(this).on(\"click\",function(n){var r=e(this);if(r[0]!=t[0]){n.preventDefault();t=r}});e(n).on(\"click touchstart MSPointerDown\",function(n){var r=true,i=e(n.target).parents();for(var s=0;s<i.length;s++)if(i[s]==t[0])r=false;if(r)t=false})});return this}})(jQuery,window,document); $('.ipsNavBar_primary > ul > li:has(ul)').doubleTapToGo();\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_fullscreen'] != \"none\" ):\n$return .= <<<CONTENT\n\n\t\t\/\/ Animated holiday effects\n\t\t$(\"body\").append(\"<div class='focus-event-fullscreen'><div class='focus-event-fullscreen__panel focus-event-fullscreen__panel--1'><i class='f-fe'><\/i><\/div><div class='focus-event-fullscreen__panel focus-event-fullscreen__panel--2'><i class='f-fe'><\/i><\/div><div class='focus-event-fullscreen__panel focus-event-fullscreen__panel--3'><i class='f-fe'><\/i><\/div><\/div>\");\n\t\t$(\".focus-event-fullscreen__panel\").each(function(){\n\t\t\tvar snowlist = $(this);\n\t\t\tfor ( i = 0; i < \nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_event_fullscreen_intensity'];\n$return .= <<<CONTENT\n;i++){\n\t\t\t    snowlist.find('.f-fe:first').clone().appendTo(snowlist);\n\t\t\t}\n\t\t});\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_holiday'] == \"halloween\" ):\n$return .= <<<CONTENT\n\n\t\t\/\/ Halloween\n\t\t$(\"body\").append(\"<div class='focus-halloween'><\/div><div class='focus-halloween focus-halloween--bottom'><\/div>\");\n\t\t$(\".ipsItemStatus_large:not(.ipsItemStatus_read) .fa-comments\").prepend('<svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 576 512\"><path d=\"M352 106.6V35.81c0-6.06-3.42-11.6-8.84-14.31l-39.6-19.8c-8.37-4.19-18.54-.32-22.01 8.37l-36.06 90.15C258.62 97.58 272.65 96 288 96c24.28 0 45.23 3.99 64 10.6zm143.3 46.53c-27-23.09-65.36-29.76-99.49-20.93 6.09 5.5 12.16 11.02 17.19 17.8 3.1 4.26 5.46 9.42 8.15 14.17C389.39 140.55 345.54 128 288 128s-101.39 12.54-133.15 36.17c2.69-4.75 5.04-9.91 8.15-14.17 5.02-6.78 11.1-12.29 17.19-17.8-34.13-8.83-72.49-2.16-99.49 20.93-107.6 92.01-107.6 241.72 0 333.74 38.63 33.03 100.82 33.34 140.12 1.25C238.65 503.51 260.72 512 288 512s49.35-8.49 67.19-23.88c39.3 32.09 101.49 31.78 140.12-1.25 107.59-92.01 107.59-241.73-.01-333.74zM320.85 278L362 211.33c2.33-4.57 8.6-4.42 12 0L415.15 278c1.66 3.25.9 10-6 10h-82.29c-6.9 0-7.7-6.69-6.01-10zm-160 0L202 211.33c2.33-4.57 8.6-4.42 12 0L255.15 278c1.66 3.25.9 10-6 10h-82.29c-6.9 0-7.7-6.69-6.01-10zm308.95 67.6c-5.96 17.04-12.75 28.62-18.7 36.96-9.38 12.94-21.34 23.8-35.19 32.99-.25-8.62-7.23-15.55-15.91-15.55h-16c-8.84 0-16 7.16-16 16v21.48c-23.46 6.88-50.16 10.52-79.98 10.52-29.85 0-56.56-3.65-80.02-10.51V416c0-8.84-7.16-16-16-16h-16c-8.7 0-15.71 6.97-15.92 15.63-13.71-9.08-25.53-19.79-34.75-32.51-6.12-8.59-13.02-20.31-19.04-37.46-4.87-13.89 10.56-26.15 23.24-18.67 32.94 19.44 70.39 32.74 110.47 38.84V384c0 8.84 7.16 16 16 16h16c8.84 0 16-7.16 16-16v-14.26h.02c58.38 0 112.72-15.74 158.54-42.79 12.66-7.48 28.09 4.77 23.24 18.65z\"><\/path><\/svg>');\n\t\t$(\".ipsItemStatus_large.ipsItemStatus_read .fa-comments\").prepend('<svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 576 512\"><path d=\"M494.75 110.52C460.24 77.96 409.33 71.33 368 90.9V51.8c0-12.2-6.78-23.17-17.69-28.62L310.69 3.36c-7.97-3.97-17.38-4.45-25.66-1.27-8.31 3.16-15 9.72-18.34 18.03l-28.7 71.75c-4.78 2.44-9.4 5.19-13.74 8.38-43.41-30.29-103.78-26.76-143 10.26C28.84 159.92 0 225.78 0 295.95c0 70.16 28.84 136 81.25 185.4 39.19 36.98 99.53 40.6 143 10.28 36.56 26.9 90.94 26.9 127.5 0 19.5 13.59 42.38 20.36 65.22 20.36 28.12 0 56.16-10.23 77.78-30.63C547.16 431.96 576 366.11 576 295.94s-28.84-136.02-81.25-185.42zM296.41 31.99L336 51.8v39.11c-18.21-8.78-38.95-11.99-59.17-10.01l19.58-48.91zm176.4 426.09c-30.16 28.42-79.78 28.87-110.62 1.06l-11-9.9-10.75 10.2c-14.5 13.76-31.66 20.46-52.44 20.46s-37.94-6.7-52.44-20.46l-10.75-10.2-11 9.9c-30.84 27.81-80.47 27.35-110.62-1.06C57.28 414.79 32 357.21 32 295.94s25.28-118.85 71.19-162.16c30.12-28.4 79.75-28.9 110.62-1.05l11 9.9 10.75-10.2c14.5-13.76 31.66-20.46 52.44-20.46s37.94 6.7 52.44 20.46l10.75 10.2 11-9.9c30.81-27.82 80.44-27.4 110.62 1.06C518.72 177.09 544 234.67 544 295.94s-25.28 118.85-71.19 162.14zm1.66-179.15c-10.62-8.39-24.81-9.28-36.28-2.27-53.41 32.73-116.03 46.65-180.53 39.9L240 314.7v29.23h-32v-36.79l-10.97-3.64c-22.56-7.48-41.91-16.26-59.16-26.81-11.47-7.05-25.75-6.08-36.28 2.31-10.81 8.62-14.91 22.68-10.47 35.84 5.5 16.18 12.38 30.18 21.09 42.9 33.84 48.52 94.66 74.17 175.78 74.17 11.69 0 22.78-.7 33.56-1.75l14.44-1.41v-36.84h32v31.15l21.97-8.81c31.72-12.72 56.69-31.93 74.31-57.18 8.47-12.31 15.22-26.14 20.69-42.34 4.45-13.14.32-27.2-10.49-35.8zm-19.81 25.6c-4.5 13.33-9.97 24.59-16.69 34.32-10.56 15.14-24.69 27.62-42.12 37.31-5.53-9.69-15.94-16.23-27.84-16.23h-32c-17.66 0-32 14.36-32 31.99v7.53c-5.22.3-10.53.47-16 .47-70.22 0-121.94-20.92-149.47-60.39-6.97-10.15-12.56-21.59-17.34-35.56 16.44 10.08 34.47 18.65 54.81 26.09v13.87c0 17.64 14.34 31.99 32 31.99h32c15.56 0 28.56-11.17 31.44-25.92 63.41 4.78 128.84-12.58 183.5-46.07l-.29.6zm-205.51-48.58c2.85 0 4.86-1.11 6-3.33s1.14-4.44 0-6.66L214 179.29c-1.71-2.23-3.86-3.33-6.43-3.33s-4.43 1.11-5.57 3.33l-41.15 66.65c-1.14 2.23-1.14 4.44 0 6.66s3.15 3.33 6 3.33h82.3zm160 0c2.85 0 4.86-1.11 6-3.33s1.14-4.44 0-6.66L374 179.29c-1.71-2.23-3.86-3.33-6.43-3.33s-4.43 1.11-5.57 3.33l-41.15 66.65c-1.14 2.23-1.14 4.44 0 6.66s3.15 3.33 6 3.33h82.3z\"><\/path><\/svg>');\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_holiday'] == \"christmas\" ):\n$return .= <<<CONTENT\n\n\t\t\/\/ Christmas\n\t\t$(\".ipsType_sectionTitle, .ipsWidget_title, .ipsBreadcrumb_top\").prepend(\"<div class='focus-landed-snow'><\/div>\");\n\t\t$(\".ipsItemStatus_large .fa-comments\").prepend('<svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 640 512\"><g><path d=\"M452.6 352H58.7l89.7-215.5A170 170 0 0 1 435 92.1l53.1 62.7a55.94 55.94 0 0 0-24.2 45.3 54.08 54.08 0 0 0-8.2 11.4L384 192z\" style=\"opacity:.7\"><\/path><path d=\"M480 384H32a32 32 0 0 0-32 32v32a32 32 0 0 0 32 32h448a32 32 0 0 0 32-32v-32a32 32 0 0 0-32-32zm160-144c0-12.1-8.2-21.9-19.2-25.2 5.5-10.1 4.4-22.8-4.2-31.4s-21.3-9.7-31.4-4.2c-3.3-11-13.1-19.2-25.2-19.2s-21.9 8.2-25.2 19.2c-10.1-5.5-22.8-4.4-31.4 4.2s-9.7 21.3-4.2 31.4c-11 3.3-19.2 13.1-19.2 25.2s8.2 21.9 19.2 25.2c-5.5 10.1-4.4 22.8 4.2 31.4a25.45 25.45 0 0 0 31.4 4.2c3.3 11 13.1 19.2 25.2 19.2s21.9-8.2 25.2-19.2c4 2.1 8.2 3.6 12.5 3.6a26.9 26.9 0 0 0 18.9-7.8c8.6-8.6 9.7-21.3 4.2-31.4 11-3.3 19.2-13.1 19.2-25.2z\"><\/path><\/g><\/svg>');\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_holiday'] == \"newyears\" ):\n$return .= <<<CONTENT\n\n\t\t\/\/ New Years\n\t\t$(\".ipsItemStatus_large .fa-comments\").prepend('<svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 640 512\"><path d=\"M639.4 433.6c-8.4-20.4-31.8-30.1-52.2-21.6l-22.1 9.2-38.7-101.9c47.9-35 64.8-100.3 34.5-152.8L474.3 16c-8-13.9-25.1-19.7-40-13.6L320 49.8 205.7 2.4c-14.9-6.2-32-.3-40 13.6L79.1 166.5C48.9 219 65.7 284.3 113.6 319.2L74.9 421.1l-22.1-9.2c-20.4-8.5-43.7 1.2-52.2 21.6-1.7 4.1.2 8.8 4.3 10.5l162.3 67.4c4.1 1.7 8.7-.2 10.4-4.3 8.4-20.4-1.2-43.8-21.6-52.3l-22.1-9.2L173.3 342c4.4.5 8.8 1.3 13.1 1.3 51.7 0 99.4-33.1 113.4-85.3l20.2-75.4 20.2 75.4c14 52.2 61.7 85.3 113.4 85.3 4.3 0 8.7-.8 13.1-1.3L506 445.6l-22.1 9.2c-20.4 8.5-30.1 31.9-21.6 52.3 1.7 4.1 6.4 6 10.4 4.3L635.1 444c4-1.7 6-6.3 4.3-10.4zM275.9 162.1l-112.1-46.5 36.5-63.4 94.5 39.2-18.9 70.7zm88.2 0l-18.9-70.7 94.5-39.2 36.5 63.4-112.1 46.5z\"><\/path><\/svg>');\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_event_holiday'] == \"easter\" ):\n$return .= <<<CONTENT\n\n\t\t\/\/ Easter\n\t\t$(\".ipsItemStatus_large .fa-comments\").prepend('<svg aria-hidden=\"true\" focusable=\"false\" role=\"img\" xmlns=\"http:\/\/www.w3.org\/2000\/svg\" viewBox=\"0 0 448 512\"><path d=\"M445.54 487.52L352 337.85V272h7.35c31.29 0 56.65-25.36 56.65-56.65a56.66 56.66 0 0 0-23.72-46.1l-48.65-34.75c-1.1-.54-2.27-.74-3.38-1.21 7.8-12.49 15.21-29.76 20.54-49.66 11.32-42.24 9.08-79.55-5-83.32-14.08-3.77-34.67 27.41-45.99 69.66-2.72 10.15-4.61 19.97-5.79 29.15-1.18-9.18-3.07-19-5.79-29.15-11.33-42.25-31.92-73.43-46-69.66s-16.32 41.08-5 83.32c6.94 25.9 17.37 47.54 27.64 59.62-9.11 7.93-15.9 18.5-18.03 31.55-.54 3.32-.82 6.72-.82 10.19V256h-12.8c-83.19 0-152.93 56.77-173.12 133.61C63.44 386.15 56.01 384 48 384c-26.51 0-48 21.49-48 48s21.49 48 48 48c7.93 0 15.3-2.11 21.89-5.51C79.98 496.58 102.13 512 128 512h144c8.84 0 16-7.16 16-16v-16c0-17.67-14.33-32-32-32h-22.59l74.35-60.18 72.91 116.66a15.99 15.99 0 0 0 13.57 7.52h37.74c12.56 0 20.22-13.82 13.56-24.48zM336 208c-8.84 0-16-7.16-16-16s7.16-16 16-16 16 7.16 16 16-7.16 16-16 16z\"><\/path><\/svg>');\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t\/\/ Toggle class\n\t$('[data-class]').on( \"click\", function(event) { event.preventDefault(); var classContent = $(this).attr('data-class'); var classModifiers = classContent.split(' '); var className = classModifiers[0]; var modifyClass = classModifiers[1]; if (classModifiers[2]){ var targetElement = classModifiers[2]; } else { var targetElement = 'html'; } if (modifyClass === 'add'){ $(targetElement).addClass(className); } else if (modifyClass === 'remove'){ $(targetElement).removeClass(className); } else { $(targetElement).toggleClass(className); } });\n\n});\n\n\/\/ More dropdown menu\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_navigation_type'] == \"dropdown\" ):\n$return .= <<<CONTENT\n \nfunction focusNavigation() { var navwidth = 0; var morewidth = $('.ipsNavBar_primary .focus-nav__more').outerWidth(true); $('.ipsNavBar_primary > ul > li:not(.focus-nav__more)').each(function() { navwidth += $(this).outerWidth( true ) + 2; }); var availablespace = $('.ipsNavBar_primary').outerWidth(true) - morewidth; if (availablespace > 0 && navwidth > availablespace) { var lastItem = $('.ipsNavBar_primary > ul > li:not(.focus-nav__more)').last(); lastItem.attr('data-width', lastItem.outerWidth(true)); lastItem.prependTo($('.ipsNavBar_primary .focus-nav__more > ul')); focusNavigation(); } else { var firstMoreElement = $('.ipsNavBar_primary li.focus-nav__more li').first(); if (navwidth + firstMoreElement.data('width') < availablespace) { firstMoreElement.insertBefore($('.ipsNavBar_primary .focus-nav__more')); } } if ($('.focus-nav__more li').length > 0) { $('.focus-nav__more').removeClass('focus-nav__more--hidden'); } else { $('.focus-nav__more').addClass('focus-nav__more--hidden'); } }\n$(window).on('load',function(){ $(\".ipsNavBar_primary\").removeClass(\"ipsNavBar_primary--loading\"); focusNavigation(); });\n$(window).on('resize',function(){ focusNavigation(); });\n$(document).ready(function(){\n\t$('[data-setting=\"fluid\"]').on('click', function(){\n\t\tsetTimeout(function(){\n\t\t\tfocusNavigation();\n\t\t}, 10);\n\t});\n});\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/script>\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"ipsfocus\", \"core\", 'front' )->javascriptReadyExtra(  );\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction javascriptReadyExtra(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction megaFooter(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_footer_enable'] ):\n$return .= <<<CONTENT\n\n<div class='focus-mega-footer'>\n\t<div class='focus-mega-footer__columns'>\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_footer_1_enable'] ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='focus-mega-footer__column'>\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_footer_1_content'];\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_footer_2_enable'] ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='focus-mega-footer__column'>\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_footer_2_content'];\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_footer_3_enable'] ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='focus-mega-footer__column'>\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_footer_3_content'];\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_footer_4_enable'] ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='focus-mega-footer__column'>\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_footer_4_content'];\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_footer_5_enable'] ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='focus-mega-footer__column'>\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_footer_5_content'];\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_footer_6_enable'] ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='focus-mega-footer__column'>\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_footer_6_content'];\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/div>\n<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction mobileFooter( $location=array() ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_mobile_footer'] AND \\IPS\\Theme::i()->settings['focus_mobile_footer_links']  ):\n$return .= <<<CONTENT\n\n\n\nCONTENT;\n\n$mobileFooterLinks = explode( ',', \\IPS\\Theme::i()->settings['focus_mobile_footer_links'] ); \n$return .= <<<CONTENT\n\n<div class='focus-mobile-footer-spacer'><\/div>\n<nav class='focus-mobile-footer'>\n\t<ul>\n\t\t\nCONTENT;\n\nif ( \\in_array( \"home\", $mobileFooterLinks )  ):\n$return .= <<<CONTENT\n\n\t\t\t<li data-item='home'>\n\t\t\t\t<a href='\nCONTENT;\n\n$return .= \\IPS\\Settings::i()->base_url;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t<i class=\"fa fa-home\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'home', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Application::appIsEnabled('forums') AND \\in_array( \"forums\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t<li data-item='forums' \nCONTENT;\n\nif ( $location['app'] === 'forums' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=forums&module=forums&controller=index\", null, \"forums\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t<i class=\"fa fa-comments-o\" aria-hidden=\"true\"><\/i>\n\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'forums', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Application::appIsEnabled('blog') AND \\in_array( \"blog\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t<li data-item='blogs' \nCONTENT;\n\nif ( $location['app'] === 'blog' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=blog&module=blogs&controller=browse\", null, \"blogs\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t<i class=\"fa fa-book\" aria-hidden=\"true\"><\/i>\n\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'blogs', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Application::appIsEnabled('gallery') AND \\in_array( \"gallery\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t<li data-item='gallery' \nCONTENT;\n\nif ( $location['app'] === 'gallery' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=gallery&module=gallery&controller=browse\", null, \"gallery\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t<i class=\"fa fa-picture-o\" aria-hidden=\"true\"><\/i>\n\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'frontnavigation_gallery', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Application::appIsEnabled('downloads') AND \\in_array( \"downloads\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t<li data-item='downloads' \nCONTENT;\n\nif ( $location['app'] === 'downloads' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=downloads&module=downloads&controller=browse\", null, \"downloads\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t<i class=\"fa fa-download\" aria-hidden=\"true\"><\/i>\n\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'frontnavigation_downloads', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Application::appIsEnabled('nexus') AND \\in_array( \"commerce\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t<li data-item='store' \nCONTENT;\n\nif ( $location['app'] === 'nexus' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=nexus&module=store&controller=store\", null, \"store\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t<i class=\"fa fa-shopping-cart\" aria-hidden=\"true\"><\/i>\n\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'store', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t<\/a>\n\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->canAccessModule( \\IPS\\Application\\Module::get( 'core', 'discover' ) )  AND \\in_array( \"unread\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\n$defaultStream = \\IPS\\core\\Stream::defaultStream();\n$return .= <<<CONTENT\n\n\t\t\t<li data-item='discover' \nCONTENT;\n\nif ( $location['app'] === 'core' AND $location['module'] === 'discover' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t<a href='\nCONTENT;\n\nif ( $defaultStream ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $defaultStream->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=discover&controller=streams\", null, \"discover_all\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t<i class=\"fa fa-newspaper-o\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'unread', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id  ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( \\in_array( \"notifications\", $mobileFooterLinks )  ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li data-item='notifications' \nCONTENT;\n\nif ( $location['app'] === 'core' AND $location['module'] === 'system' AND $location['controller'] === 'notifications' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=notifications\", null, \"notifications\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t<i class=\"fa fa-bell\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->notification_cnt ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<span class='focus-mobile-footer__notification'>\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->notification_cnt, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'notifications', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->members_disable_pm and \\IPS\\Member::loggedIn()->canAccessModule( \\IPS\\Application\\Module::get( 'core', 'messaging' ) ) AND \\in_array( \"messages\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li data-item='messenger' \nCONTENT;\n\nif ( $location['app'] === 'core' AND $location['module'] === 'messaging' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=messaging&controller=messenger\", null, \"messaging\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t<i class=\"fa fa-envelope-o\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->msg_count_new ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<span class='focus-mobile-footer__notification'>\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->msg_count_new, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'userbar_messages', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\in_array( \"search\", $mobileFooterLinks )  ):\n$return .= <<<CONTENT\n\n\t\t\t<li data-item='search' \nCONTENT;\n\nif ( $location['app'] === 'core' AND $location['module'] === 'search' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=search&controller=search\", null, \"search\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n' data-class='display--focus-mobile-search'>\n\t\t\t\t\t<i class=\"fa fa-search\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'search', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Application::appIsEnabled('forums') AND \\IPS\\forums\\Forum::canOnAny( 'add' ) AND \\in_array( \"write\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t\t<li data-item='write'>\n\t\t\t\t<a href=\"\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=forums&module=forums&controller=forums&do=add\", null, \"topic_non_forum_add_button\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n\" data-ipsDialog data-ipsDialog-size='narrow' data-ipsDialog-title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'select_forum', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t<i class=\"fa fa-pencil\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'start_new_topic', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id AND \\IPS\\Member::loggedIn()->canAccessModule( \\IPS\\Application\\Module::get( 'core', 'members', 'front' ) )  AND \\in_array( \"profile\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t\t<li data-item='profile' \nCONTENT;\n\nif ( $location['app'] === 'core' AND $location['module'] === 'members' AND $location['controller'] === 'profile' ):\n$return .= <<<CONTENT\nclass='focus-mobile-footer__active'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Member::loggedIn()->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t<i class=\"fa fa-user\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'menu_profile', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->member_id  ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( \\in_array( \"signin\", $mobileFooterLinks )  ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li data-item='login'>\n\t\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=login\", null, \"login\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t<i class=\"fa fa-user\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'login', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( \\IPS\\Login::registrationType() != 'disabled' AND \\in_array( \"register\", $mobileFooterLinks ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li data-item='register'>\n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Login::registrationType() == 'redirect' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Settings::i()->allow_reg_target, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' target=\"_blank\" rel=\"noopener\">\n\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t<a href='\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=core&module=system&controller=register\", null, \"register\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nif ( \\IPS\\Login::registrationType() == 'normal' ):\n$return .= <<<CONTENT\ndata-ipsDialog data-ipsDialog-size='narrow' data-ipsDialog-title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sign_up', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<i class=\"fa fa-user\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'sign_up', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<\/a>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\in_array( \"more\", $mobileFooterLinks )  ):\n$return .= <<<CONTENT\n\n\t\t\t<li data-item='more' data-ipsDrawer data-ipsDrawer-drawerElem='#elMobileDrawer'>\n\t\t\t\t<a href='#'>\n\t\t\t\t\t<i class=\"fa fa-ellipsis-h\" aria-hidden=\"true\"><\/i>\n\t\t\t\t\t<span class='focus-mobile-footer__text'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'more', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/ul>\n<\/nav>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction mobileNavBarLinks(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<li data-focus-editor>\n\t<a href='#'>\n\t\t<i class='fa fa-toggle-on'><\/i>\n\t<\/a>\n<\/li>\n<li data-focus-toggle-theme>\n\t<a href='#'>\n\t\t<i class='fa'><\/i>\n\t<\/a>\n<\/li>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction mobileSearch(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='focus-mobile-search'>\n\t<div class='focus-mobile-search__close' data-class='display--focus-mobile-search'><i class=\"fa fa-times\" aria-hidden=\"true\"><\/i><\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction siteFooter(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction siteHeader(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction socialButtons(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( \\IPS\\Theme::i()->settings['focus_social_enable'] ):\n$return .= <<<CONTENT\n\n<ul class='focus-social focus-social--\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_social_design'];\n$return .= <<<CONTENT\n'>\n\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->settings['focus_social_html'];\n$return .= <<<CONTENT\n\n<\/ul>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction userBarLinks(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction userBarLinksExtra(  ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n \nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
